
交易/金融名词记录！

- bid price 是买方出的最高买入价格
- ask price 是卖方出的最低卖出价格

# 日期相关

|     | 说明一         | 说明二  |
|-----|-------------|------|
| T+1 | T(Trade，交易) | 指工作日 |
| D+1 | D(Day，日)    | 指自然日 |

日切：指上一个工作日结束的时间点。

# 借贷相关

借记：借记业务是收款行或者收款人主动向付款行或者付款人发起的扣款业务。

> “借”字是指资产的增加或者负债的减少，最常见的借记应用服务是借记卡，也就是储蓄卡。
>
> 平时我们用储蓄卡时，不能透支，只要卡上有钱，就是资产，所以也将它叫作借记卡。比如你在银行储蓄，或者工资到账，对于个人来说，银行的资产多了，都是借记业务。

贷记：贷记业务是付款行或者付款人主动向收款行或者收款人发起的付款业务。

> “贷”字是指资产的减少或者负债的增加，最常见的贷记应用服务是贷记卡，也就是信用卡。
>
> 平时我们用信用卡时，额度减少，负债增加了，所以信用卡也被叫作贷记卡。比如你从银行转账到别的银行，或者从企业账户代付工资到各个员工账户，对于付款行来说，银行的资产都减少了，都是贷记业务。

# 业务行为相关

头寸（Position）：指款项。并非英文翻译而来，中国人收钱、攒钱、付钱喜欢 10 或 5 个一摞包好收藏，10 个袁大头的高度大概为一寸。

> 头寸松（或多头寸），资金的需求量小于闲置量。
>
> 轧头寸：预测头寸的宽松还是紧缺的行为。

轧差：互相抵消债权和债务后的净金额。

> 老王和老李之间做生意，老王卖了老李 6000 元钱的货，老李卖了老王 5000 元钱的货，两人一算，6000-5000=1000，老李直接给老王 1000 元就行。

圈存：指从资产账户（如银行卡）中把一定的资产（如现金）取出来（圈），存入指定的账户（存进去）。如交通卡充值。

收单：提供商户受理终端受理用户各类支付工具并完成资金结算的服务。

> 收单机构，提供收单服务的组织，可以是银行也可以是第三方机构，收单机构需要获得“银行卡收单”牌照。

拒绝交易（charge back）：持卡人收到账单一定时间内，处于某种原因，向银行申请拒付账单上某笔交易的行为。

> 持卡人拒付时，银行会通过收单方联系商户确认交易情况。如果同意，则款项会退回给持卡人，如果不同意，则会进入调单流程。

调单：是一种对争议交易的处理方式，持卡人对自己银行卡交易有疑问，质疑或否认交易，联系发卡行，发卡行会对收单方发起调单，调取原始交易信息（含卡信息、交易内容等），进而还原持卡人质疑交易的当时场景，并认定和划分责任。

掉单：受网络等不确定因素影响，支付服务方未把支付结果信息返回给下单发起方。

冲正：一笔交易在终端已经置为成功标志，但是发送到主机的账务交易包没有得到响应，即终端交易超时。这时由于不确定该笔交易是否在主机端也成功完成，为了确保用户的利益，终端重新向主机发送请求，请求取消该笔交易的流水。如果主机端已经交易成功，则回滚交易，否则不处理，然后将处理结果返回给终端。

补偿机制：交易无结果，没有明确返回响应时，通过查询、冲正、退货等措施明确交易结果，以及对明确结果的处理机制。

卡基支付：以卡片作为支付工具，通过各种媒介提供并验证卡信息进行支付的行为，卡基的核心是卡号。

> 发卡行标识代码（Bank Identification Number，BIN），即卡 BIN，一般为 6 位数字

帐基支付：以账户作为支付工具并验证账户信息进行支付的行为，帐基的核心是实名认证+密码验证。 帐基支付还支持积分、余额等多种支付方式。可以将一个用户的所有支付行为关联起来，为行为分析和征信用户画像做数据准备。

# 结算相关

全额结算（Gross Settlement）：对交易的已收资金进行全数结算、划拨，不扣除费用。

净额结算（Net Settlement）：对交易的已收资金先扣除手续费再进行结算、划拨；或者双方互有买卖，先对各自应收应付资金进行抵扣再进行结算。

> 如老王托老李帮忙卖东西，事先约好辛苦费 10 元钱，老李卖了100元，扣除辛苦费，给了老王90元。
>
> 如老王卖给老李 100 元东西，老李卖给老王 90 元的东西，两人算了算，互相冲抵，老李给老王10元钱就好。

# 交易制度

金融市场目前有两种主要的交易制度：竞价制度和做市商制度。

## 竞价制度

竞价制度又分为连续竞价和集合竞价。

连续竞价是一种交易机制，用于在市场开放期间持续进行证券或其他金融资产的买卖交易。在这个机制下，市场上的买家和卖家可以不断提交订单，并且交易将以市场上当前的最优价格成交。

[市场深度](./words_finance.md#market-depth)。

连续竞价下的撮合引擎通常根据**价格优先**和**时间优先**原则，即时地将买方和卖方的订单进行撮合。

在竞价制度中，价格优先原则是竞价市场上普遍采用的撮合原则，而且被作为首要的优先原则，即第一优先原则。

连续竞价提供了实时的价格发现机制，投资者可以根据市场上最新的成交价格和订单簿情况作出决策。

> 集合竞价（Closing Auction）是另一种交易机制，通常用于市场收盘时确定当日的收盘价。这个过程是在一个指定的时间段内进行的，允许市场上的买家和卖家提交他们的订单，并在收盘时以一个共同的价格撮合这些订单。
>
> 集合竞价通常在交易日结束前的最后一段时间内进行，这个时间段被称为集合竞价期间。
>
> 在集合竞价期间，市场上的买方和卖方都有机会提交他们的限价订单，以确定最终的收盘价。
>
> 在集合竞价结束时，撮合引擎会分析市场上所有提交的订单，找到一个价格，该价格上所有的买卖订单都能得到满足。这个价格被称为集合竞价的成交价格。
>
> 集合竞价通常适用于股票市场等金融市场，确保在收盘时形成一个有意义的、市场参与者普遍认可的收盘价。这种机制有助于避免在收盘时的剧烈价格波动，同时提供一个最终的成交价，供投资者参考。

## 做市商制度

做市商交易，又称为双边报价交易，是指以报价商为市场的价格维护人，报价商向市场同时报出买价和卖价，市场的买家和卖家根据报价与之成交，而买家和卖家之间不直接成交的交易组织模式。

该交易方式依赖做市商的报价来完成买卖，所以又称报价驱动制度。做市商制度又分为垄断型做市商制度和竞争型做市商制度，前者的由交易所指定一个券商来负责某一股票的交易，后者则是每一种股票同时由多个做市商负责。

做市商的收益主要来源于买卖差价。

## AMM

以 Uniswap 为代表的去中心化交易所则采用了一种全新的交易制度---不需要订单簿，也不需要交易对手方（做市商），即可完成资产的自动交易兑换。

见 [AMM](./words_blockchain.md#amm)

# OrderBook(订单薄)

无论是竞价制度还是做市商制度，两者依赖订单簿（Order Book），即需要将订单挂至订单簿上，以价格作为信号进行交易。

在竞价制度中的要求撮合是按最有利于交易双方的价格买卖资产；同样地，做市商制度中要求做市商必须事先报出买卖价格，而投资人在看到报价后才能下达交易委托。

## K 线图

K 线图由许多烛台图案组成，创建烛台图案需要：开盘价、最高价、最底价、收盘价，该数据集通常被称为“OHLC 值”，开盘价和收盘价的间距称为“实体”，而实体与最高/低价的距离称为烛芯或影线，蜡烛图案高低点的间距称为烛台范围。

> 每个蜡烛图代表了该时间段内的市场走势，每个烛台显示开盘价和收盘价（烛台主体）以及最高价和最低价点（烛台上方和下方的长线，也成烛芯）。
>
> 上升烛台（收盘价 > 开盘价）通常用绿色或黑色（实心）表示，下降烛台（收盘价 < 开盘价）通常为红色或空心（白色）。

## Market Depth

订单薄列出各价格点的要价和出价订单数量，
即市场深度(Market Depth)。

市场深度反映了市场上的买卖订单数量和价格的分布情况。这有助于投资者了解市场的流动性和潜在的价格波动。

## Maker&Taker

在交易是会有两种身份：Maker(挂单)，Taker(吃单)。其中 Maker 是流动性提供者，而 Taker 则是流动性消耗者。

当用户挂出一定数量和价格的委托单，但市场上没有与之匹配的订单，那么这个委托单就会一致挂在交易所的盘口上，提供市场深度，等待其他用户与之成交，相当于为整个市场提供了流动性，因此称为 Maker。

而当用户下单后，该委托单立即与排队的反向委托单成交，拿走市场深度，相当于消耗了市场的流动性，称为 Taker。

为了促进数字货币交易并保持市场价的稳定，交易平台更加鼓励 Maker 提供流动性，所以 Maker 的手续费会比 Taker 的手续费要低。

注意：用户最终是 Maker 还是 Taker 并不是根据下单时的状态判断的，主要是看成交时的状态。假设挂单时市场没有匹配的委托单，则为 Maker，如果在确认提交时瞬间出现了匹配的委托单且成交，则身份为 Taker。

所以，来自市价单的交易都是 Taker。

## 订单类型

- limit，普通限价单

当 OrderBook 中存在能与该订单匹配成交的委托单时，可能生成一条或多条成交记录，每条成交记录都会产生异步输出；当 OrderBook 中没有可匹配的委托单时，将该订单（全部或剩余数量）添加到 OrderBook 中，这时不会产生任何输出。

- limit-ioc，IOC 限价-即时成交剩余撤销

当 OrderBook 中存在能与该订单匹配成交的委托单时，可能生成一条或多条成交记录，每条成交记录都会产生异步输出；当 OrderBook 中没有可匹配的委托单时，将该订单（全部或剩余数量）进行撤单处理，这时不会产生任何输出。

- market，默认市价-即时成交剩余撤销

和 IOC 限价一样。不同的是，IOC 限价订单是由用户指定了委托价格的，而市价则无需指定委托价格，会直接和对手方的头部委托单成交，直到该订单已全部成交或对手方再无委托单为止。

- market-top5，市价-最优五档即时成交剩余撤销

market 可以和对手方所有价格档位的订单成交，但 market-top5 最多只会和对手方的五个价格档位内的订单成交，超出五档外的订单将不会成交。剩余为成交的都将做撤单处理并产生一条撤单成功的输出。

- market-top10，市价-最优十档即时成交剩余撤销

最多只会和对手方的十个价格档位内的订单成交。

- market-opponent，市价-对手方最优价

如果对手方没有订单，则直接对该订单进行撤单处理并产生一条撤单成功的输出；如果对手方有订单，则最多只会成交一档，如果还剩有未成交的数量，则以对手方一档的价格转为限价单并添加到委托单账本中，此时不会产生输出。

## MA

[移动平均线(Moving Average，MA)](https://academy.binance.com/zh/articles/moving-averages-explained) 代表过去一段时间里的平均成交价格。

> 股市的三类均线：短期（5日、10日），中期（20日，60日），长期（120日、250日）
>
> 均线的交叉点
>
> - 均线的金叉：短期均线由下往上穿过长期均线。代表买入信号
>
> - 均线的死叉：短期均线由上往下穿过长期均线，代表卖出信号
>
> 均线的两种极端（至少三根以上的均线组成的均线系统来构筑）
>
> - 多头排列：短期均线由下往上依次穿过中期均线、长期均线。属于上涨
>
> - 空头排列：短期均线由上往下依次穿过中期均线、长期均线。属于下跌

MA 通常被分为两大类：简单移动平均线(SMA)、指数移动平均线(EMA)。

- SMA

从设定的时间段获取数据，从而的出其资产的平均价格。SMA 与基本的均价差别在于：对于 SMA，一旦输入新数据集，以前的数据集就会忽略不计。

- EMA

类似 SMA，也是根据过去的价格波动提供技术分析，但计算更为复杂，因为 EMA 为最近的价格输入分配了更多的权重和价值。EMA 对突然的价格波动和逆转反应更敏感，所以通常特别受短期交易者的青睐。

当两个不同的 MA 在图表中交叉时，会创建交叉信号。短期 MA 超过长期 MA 时，发生看涨交叉（黄金交叉），表示上升趋势的开始；相反，当短期 MA 低于长期 MA 时出现看跌交叉（死亡交叉），这表示下跌趋势的开始。